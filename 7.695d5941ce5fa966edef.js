(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{NELs:function(t,n,e){"use strict";e.r(n),e.d(n,"AddPostModule",function(){return N});var i=e("3Pt+"),o=e("AcyG"),r=e("PCNd"),c=e("tyNb"),a=e("pLZG"),s=e("xDUJ"),u=e("XKO9"),b=function(){function t(t,n,e,i){this.title=t,this.message=n,this.uuid=e,this.language=i}return t.type="[Add Post] Save",t}(),m=e("fXoL"),d=e("ofXK"),l=e("JK/P"),f=e("ocnv"),p=e("B+r4"),h=e("PTRe"),z=e("OzZK"),g=e("RwU8"),E=e("C2AL"),v=e("FwiY"),w=e("sYmb");function y(t,n){1&t&&(m.Ub(0),m.Ec(1),m.hc(2,"translate"),m.Tb()),2&t&&(m.Eb(1),m.Gc(" ",m.ic(2,1,"ERROR.MAXLENGTH")," "))}function S(t,n){1&t&&(m.Ub(0),m.Ec(1),m.hc(2,"translate"),m.Tb()),2&t&&(m.Eb(1),m.Gc(" ",m.ic(2,1,"ERROR.MINLENGTH")," "))}function R(t,n){1&t&&(m.Ub(0),m.Ec(1),m.hc(2,"translate"),m.Tb()),2&t&&(m.Eb(1),m.Gc(" ",m.ic(2,1,"ERROR.REQUIRED")," "))}function L(t,n){if(1&t&&(m.Cc(0,y,3,3,"ng-container",12),m.Cc(1,S,3,3,"ng-container",12),m.Cc(2,R,3,3,"ng-container",12)),2&t){var e=n.$implicit;m.mc("ngIf",e.hasError("maxlength")),m.Eb(1),m.mc("ngIf",e.hasError("minlength")),m.Eb(1),m.mc("ngIf",e.hasError("required"))}}var C=[{path:"",component:function(){function t(t,n,e){this.store=t,this.location=n,this.modalService=e,this.addForm=new i.g({title:new i.d(null,[i.r.required,i.r.minLength(10),i.r.maxLength(200)]),message:new i.d(null,[i.r.required,i.r.minLength(50),i.r.maxLength(1e3)])}),this.isLoading=!1}return t.prototype.savePost=function(){var t=this;Object(s.a)(this.addForm),this.addForm.valid&&(this.isLoading=!0,this.store.dispatch(new b(this.addForm.value.title,this.addForm.value.message,this.store.selectSnapshot(u.b),this.store.selectSnapshot(u.a))).subscribe(function(){t.location.back(),t.isLoading=!1}))},t.prototype.onCancel=function(){var t=this;this.addForm.dirty?this.modalService.cancelEditing().pipe(Object(a.a)(Boolean)).subscribe(function(){t.location.back()}):this.location.back()},t.\u0275fac=function(n){return new(n||t)(m.Qb(o.h),m.Qb(d.i),m.Qb(l.a))},t.\u0275cmp=m.Kb({type:t,selectors:[["app-add-post-home"]],decls:24,vars:24,consts:[["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","title",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["type","text","nz-input","","minlength","10","maxlength","200","formControlName","title","id","title"],["nzFor","message","nzRequired","",3,"nzSm","nzXs"],["rows","5","nz-input","","id","message","formControlName","message","minlength","50","maxlength","1000"],[1,"justify-center"],["nz-button","","nzSize","large","type","button",1,"mr4",3,"click"],["nz-icon","","nzType","left"],["nz-button","","nzSize","large","nzType","primary","type","submit",3,"nzLoading"],["nz-icon","","nzType","save"],["inputErrorsTemplate",""],[4,"ngIf"]],template:function(t,n){if(1&t&&(m.Wb(0,"form",0),m.dc("ngSubmit",function(){return n.savePost()}),m.Wb(1,"nz-form-item"),m.Wb(2,"nz-form-label",1),m.Ec(3),m.hc(4,"translate"),m.Vb(),m.Wb(5,"nz-form-control",2),m.Rb(6,"input",3),m.Vb(),m.Vb(),m.Wb(7,"nz-form-item"),m.Wb(8,"nz-form-label",4),m.Ec(9),m.hc(10,"translate"),m.Vb(),m.Wb(11,"nz-form-control",2),m.Rb(12,"textarea",5),m.Vb(),m.Vb(),m.Wb(13,"nz-form-item",6),m.Wb(14,"button",7),m.dc("click",function(){return n.onCancel()}),m.Rb(15,"i",8),m.Ec(16),m.hc(17,"translate"),m.Vb(),m.Wb(18,"button",9),m.Rb(19,"i",10),m.Ec(20),m.hc(21,"translate"),m.Vb(),m.Vb(),m.Vb(),m.Cc(22,L,3,3,"ng-template",null,11,m.Dc)),2&t){var e=m.tc(23);m.mc("formGroup",n.addForm),m.Eb(2),m.mc("nzSm",6)("nzXs",24),m.Eb(1),m.Gc(" ",m.ic(4,16,"ADD.TITLE")," "),m.Eb(2),m.mc("nzSm",14)("nzXs",24)("nzErrorTip",e),m.Eb(3),m.mc("nzSm",6)("nzXs",24),m.Eb(1),m.Gc(" ",m.ic(10,18,"ADD.MESSAGE")," "),m.Eb(2),m.mc("nzSm",14)("nzXs",24)("nzErrorTip",e),m.Eb(5),m.Gc(" ",m.ic(17,20,"ADD.CANCEL")," "),m.Eb(2),m.mc("nzLoading",n.isLoading),m.Eb(2),m.Gc(" ",m.ic(21,22,"ADD.SUBMIT")," ")}},directives:[i.s,i.o,f.b,i.h,p.c,f.c,p.a,f.d,f.a,h.b,i.c,i.k,i.j,i.n,i.f,z.a,g.a,E.a,v.a,d.m],pipes:[w.c],encapsulation:2}),t}()}],O=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.Ob({type:t}),t.\u0275inj=m.Nb({imports:[[c.h.forChild(C)],c.h]}),t}(),T=e("Cfvw"),G=e("I/3d"),P=function(){function t(t){this.firestore=t}return t.prototype.savePost=function(t,n,e,i){var o={title:t,message:n,language:i,createdAt:new Date,likesCount:0,commentsCount:0,dislikesCount:0,uuid:e};return Object(T.a)(this.firestore.collection("posts").add(o))},t.\u0275fac=function(n){return new(n||t)(m.ac(G.a))},t.\u0275prov=m.Mb({token:t,factory:t.\u0275fac}),t}(),A=e("mrSG"),j=e("vkgz"),k=e("JIr8"),D=e("EBwW"),F=function(){function t(t){this.addPostService=t}return t.prototype.saveAddedPost=function(t,n){return this.addPostService.savePost(n.title,n.message,n.uuid,n.language).pipe(Object(j.a)(function(){t.dispatch(new D.b)}),Object(k.a)(function(n){throw t.dispatch(new D.a),n}))},t.\u0275fac=function(n){return new(n||t)(m.ac(P))},t.\u0275prov=m.Mb({token:t,factory:t.\u0275fac}),Object(A.c)([Object(o.a)(b)],t.prototype,"saveAddedPost",null),t=Object(A.c)([Object(o.f)({name:"addPost",defaults:null})],t)}(),N=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.Ob({type:t}),t.\u0275inj=m.Nb({providers:[P],imports:[[r.a,O,i.i,i.q,o.e.forFeature([F])]]}),t}()}}]);